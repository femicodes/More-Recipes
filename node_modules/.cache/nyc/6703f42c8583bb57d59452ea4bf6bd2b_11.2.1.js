'use strict';

var _chai = require('chai');

var _supertest = require('supertest');

var _supertest2 = _interopRequireDefault(_supertest);

var _jsonwebtoken = require('jsonwebtoken');

var _jsonwebtoken2 = _interopRequireDefault(_jsonwebtoken);

var _app = require('../app');

var _app2 = _interopRequireDefault(_app);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

process.env.NODE_ENV = 'test';

var rootURL = '/api/v1';
var recipesUrl = rootURL + '/recipes';
var usersUrl = rootURL + '/users';

var data = {};
var request = (0, _supertest2.default)(_app2.default);

describe('API Integration Tests', function () {
	it('Should return home page', function (done) {
		// calling home page api
		request.get('/api/v1/').end(function (err, res) {
			// console.log(res);
			(0, _chai.expect)(res.status).to.equal(200);
			(0, _chai.expect)(res.body.message).to.equal('Welcome to More Recipes');
			(0, _chai.expect)(res.body.success).to.equal(true);
			done();
		});
	});

	describe('User signup', function () {
		var signupURl = rootURL + '/users/signup';

		beforeEach(function () {
			data = {
				username: 'user1',
				password: 'password',
				email: 'example@user.com'
			};
		});

		it('return 201 for a successful account creation', function (done) {

			request.post(signupURl).send(data).end(function (err, res) {
				console.log(res);
				(0, _chai.expect)(res.status).to.equal(201);
				(0, _chai.expect)(res.body.success).to.equal(true);
				(0, _chai.expect)(res.body.message).to.equal('Account created successfully');
				done();
			});
		});

		it('return 422 for an empty username ', function (done) {
			var invalidData = Object.assign({}, data);
			invalidData.username = ' ';

			request.post(signupURl).send(invalidData).end(function (err, res) {
				(0, _chai.expect)(res.status).to.equal(422);
				(0, _chai.expect)(res.body.message).to.equal('Username is required');
				done();
			});
		});

		it('return 422 for an empty email ', function (done) {
			var invalidData = Object.assign({}, data);
			invalidData.email = '  ';

			request.post(signupURl).send(invalidData).end(function (err, res) {
				(0, _chai.expect)(res.status).to.equal(422);
				(0, _chai.expect)(res.body.message).to.equal('Email is required');
				done();
			});
		});

		it('return 422 for an empty password', function (done) {
			var invalidData = Object.assign({}, data);
			invalidData.password = ' ';

			request.post(signupURl).send(invalidData).end(function (err, res) {
				(0, _chai.expect)(res.status).to.equal(422);
				(0, _chai.expect)(res.body.message).to.equal('Password is required');
				done();
			});
		});

		it('return 422 for an invalid email', function (done) {
			var invalidData = Object.assign({}, data);
			invalidData.email = 'invalidemail';

			request.post(signupURl).send(invalidData).end(function (err, res) {
				(0, _chai.expect)(res.status).to.equal(422);
				(0, _chai.expect)(res.body.message).to.equal('invalid email address');
				done();
			});
		});

		it('return 422 for a password less than 6 characters', function (done) {
			var invalidData = Object.assign({}, data);
			invalidData.password = 'pass';

			request.post(signupURl).send(invalidData).end(function (err, res) {
				(0, _chai.expect)(res.status).to.equal(422);
				(0, _chai.expect)(res.body.message).to.equal('Password must be atleast 6 characters long!');
				done();
			});
		});
	});
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QuanMiXSwibmFtZXMiOlsicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwicm9vdFVSTCIsInJlY2lwZXNVcmwiLCJ1c2Vyc1VybCIsImRhdGEiLCJyZXF1ZXN0IiwiZGVzY3JpYmUiLCJpdCIsImRvbmUiLCJnZXQiLCJlbmQiLCJlcnIiLCJyZXMiLCJzdGF0dXMiLCJ0byIsImVxdWFsIiwiYm9keSIsIm1lc3NhZ2UiLCJzdWNjZXNzIiwic2lnbnVwVVJsIiwiYmVmb3JlRWFjaCIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJlbWFpbCIsInBvc3QiLCJzZW5kIiwiY29uc29sZSIsImxvZyIsImludmFsaWREYXRhIiwiT2JqZWN0IiwiYXNzaWduIl0sIm1hcHBpbmdzIjoiOztBQUNBOztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBRUFBLFFBQVFDLEdBQVIsQ0FBWUMsUUFBWixHQUF1QixNQUF2Qjs7QUFFQSxJQUFNQyxVQUFVLFNBQWhCO0FBQ0EsSUFBTUMsYUFBZ0JELE9BQWhCLGFBQU47QUFDQSxJQUFNRSxXQUFjRixPQUFkLFdBQU47O0FBR0EsSUFBSUcsT0FBTyxFQUFYO0FBQ0EsSUFBTUMsVUFBVSx1Q0FBaEI7O0FBRUFDLFNBQVMsdUJBQVQsRUFBa0MsWUFBTTtBQUN2Q0MsSUFBRyx5QkFBSCxFQUE4QixVQUFDQyxJQUFELEVBQVU7QUFDdkM7QUFDQUgsVUFBUUksR0FBUixDQUFZLFVBQVosRUFDRUMsR0FERixDQUNNLFVBQVNDLEdBQVQsRUFBY0MsR0FBZCxFQUFrQjtBQUN0QjtBQUNBLHFCQUFPQSxJQUFJQyxNQUFYLEVBQW1CQyxFQUFuQixDQUFzQkMsS0FBdEIsQ0FBNEIsR0FBNUI7QUFDQSxxQkFBT0gsSUFBSUksSUFBSixDQUFTQyxPQUFoQixFQUF5QkgsRUFBekIsQ0FBNEJDLEtBQTVCLENBQWtDLHlCQUFsQztBQUNBLHFCQUFPSCxJQUFJSSxJQUFKLENBQVNFLE9BQWhCLEVBQXlCSixFQUF6QixDQUE0QkMsS0FBNUIsQ0FBa0Ms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QUFNb0IsY0FBY0MsT0FBT0MsTUFBUCxDQUFjLEVBQWQsRUFBa0IxQixJQUFsQixDQUFwQjtBQUNBd0IsZUFBWUwsS0FBWixHQUFvQixjQUFwQjs7QUFFQWxCLFdBQVFtQixJQUFSLENBQWFMLFNBQWIsRUFDRU0sSUFERixDQUNPRyxXQURQLEVBRUVsQixHQUZGLENBRU0sVUFBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQWM7QUFDbEIsc0JBQU9BLElBQUlDLE1BQVgsRUFBbUJDLEVBQW5CLENBQXNCQyxLQUF0QixDQUE0QixHQUE1QjtBQUNBLHNCQUFPSCxJQUFJSSxJQUFKLENBQVNDLE9BQWhCLEVBQXlCSCxFQUF6QixDQUE0QkMsS0FBNUIsQ0FBa0MsdUJBQWxDO0FBQ0FQO0FBQ0EsSUFORjtBQU9BLEdBWEQ7O0FBYUFELEtBQUcsa0RBQUgsRUFBdUQsVUFBQ0MsSUFBRCxFQUFVO0FBQ2hFLE9BQU1vQixjQUFjQyxPQUFPQyxNQUFQLENBQWMsRUFBZCxFQUFrQjFCLElBQWxCLENBQXBCO0FBQ0F3QixlQUFZTixRQUFaLEdBQXVCLE1BQXZCOztBQUVBakIsV0FBUW1CLElBQVIsQ0FBYUwsU0FBYixFQUNFTSxJQURGLENBQ09HLFdBRFAsRUFFRWxCLEdBRkYsQ0FFTSxVQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBYztBQUNsQixzQkFBT0EsSUFBSUMsTUFBWCxFQUFtQkMsRUFBbkIsQ0FBc0JDLEtBQXRCLENBQTRCLEdBQTVCO0FBQ0Esc0JBQU9ILElBQUlJLElBQUosQ0FBU0MsT0FBaEIsRUFBeUJILEVBQXpCLENBQTRCQyxLQUE1QixDQUFrQyw2Q0FBbEM7QUFDQVA7QUFDQSxJQU5GO0FBT0EsR0FYRDtBQWNBLEVBMUZEO0FBNEZBLENBekdEIiwiZmlsZSI6InRlc3QuanMiLCJzb3VyY2VSb290IjoiQzovVXNlcnMvVG9iaS9Nb3JlLVJlY2lwZXMvc2VydmVyL3Rlc3QiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IHsgZXhwZWN0IH0gZnJvbSAnY2hhaSc7XHJcbmltcG9ydCBzdXBlcnRlc3QgZnJvbSAnc3VwZXJ0ZXN0JztcclxuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xyXG5pbXBvcnQgYXBwIGZyb20gJy4uL2FwcCc7XHJcblxyXG5wcm9jZXNzLmVudi5OT0RFX0VOViA9ICd0ZXN0JztcclxuXHJcbmNvbnN0IHJvb3RVUkwgPSAnL2FwaS92MSc7XHJcbmNvbnN0IHJlY2lwZXNVcmwgPSBgJHtyb290VVJMfS9yZWNpcGVzYDtcclxuY29uc3QgdXNlcnNVcmwgPSBgJHtyb290VVJMfS91c2Vyc2A7XHJcblxyXG5cclxubGV0IGRhdGEgPSB7fTtcclxuY29uc3QgcmVxdWVzdCA9IHN1cGVydGVzdChhcHApO1xyXG5cclxuZGVzY3JpYmUoJ0FQSSBJbnRlZ3JhdGlvbiBUZXN0cycsICgpID0+IHtcclxuXHRpdCgnU2hvdWxkIHJldHVybiBob21lIHBhZ2UnLCAoZG9uZSkgPT4ge1xyXG5cdFx0Ly8gY2FsbGluZyBob21lIHBhZ2UgYXBpXHJcblx0XHRyZXF1ZXN0LmdldCgnL2FwaS92MS8nKVxyXG5cdFx0XHQuZW5kKGZ1bmN0aW9uKGVyciwgcmVzKXtcclxuXHRcdFx0XHQvLyBjb25zb2xlLmxvZyhyZXMpO1xyXG5cdFx0XHRcdGV4cGVjdChyZXMuc3RhdHVzKS50by5lcXVhbCgyMDApOyBcclxuXHRcdFx0XHRleHBlY3QocmVzLmJvZHkubWVzc2FnZSkudG8uZXF1YWwoJ1dlbGNvbWUgdG8gTW9yZSBSZWNpcGVzJyk7XHJcblx0XHRcdFx0ZXhwZWN0KHJlcy5ib2R5LnN1Y2Nlc3MpLnRvLmVxdWFsKHRydWUpO1xyXG5cdFx0XHRcdGRvbmUoKTtcclxuXHRcdFx0fSk7XHJcblx0fSk7XHJcblxyXG5cdGRlc2NyaWJlKCdVc2VyIHNpZ251cCcsICgpID0+IHtcclxuXHRcdGNvbnN0IHNpZ251cFVSbCA9IGAke3Jvb3RVUkx9L3VzZXJzL3NpZ251cGA7XHJcblx0XHJcblx0XHRiZWZvcmVFYWNoKCgpID0+IHtcclxuXHRcdFx0ZGF0YSA9IHtcclxuXHRcdFx0XHR1c2VybmFtZTogJ3VzZXIxJyxcclxuXHRcdFx0XHRwYXNzd29yZDogJ3Bhc3N3b3JkJyxcclxuXHRcdFx0XHRlbWFpbDogJ2V4YW1wbGVAdXNlci5jb20nLFxyXG5cdFx0XHR9O1xyXG5cdFx0fSk7XHJcblx0XHRcclxuXHRcdGl0KCdyZXR1cm4gMjAxIGZvciBhIHN1Y2Nlc3NmdWwgYWNjb3VudCBjcmVhdGlvbicsIChkb25lKSA9PiB7XHJcblx0XHRcdFxyXG5cdFx0XHRyZXF1ZXN0LnBvc3Qoc2lnbnVwVVJsKVxyXG5cdFx0XHRcdC5zZW5kKGRhdGEpXHJcblx0XHRcdFx0LmVuZCgoZXJyLCByZXMpID0+IHtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKHJlcyk7XHJcblx0XHRcdFx0XHRleHBlY3QocmVzLnN0YXR1cykudG8uZXF1YWwoMjAxKTtcclxuXHRcdFx0XHRcdGV4cGVjdChyZXMuYm9keS5zdWNjZXNzKS50by5lcXVhbCh0cnVlKTtcclxuXHRcdFx0XHRcdGV4cGVjdChyZXMuYm9keS5tZXNzYWdlKS50by5lcXVhbCgnQWNjb3VudCBjcmVhdGVkIHN1Y2Nlc3NmdWxseScpO1xyXG5cdFx0XHRcdFx0ZG9uZSgpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0aXQoJ3JldHVybiA0MjIgZm9yIGFuIGVtcHR5IHVzZXJuYW1lICcsIChkb25lKSA9PiB7XHJcblx0XHRcdGNvbnN0IGludmFsaWREYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgZGF0YSk7XHJcblx0XHRcdGludmFsaWREYXRhLnVzZXJuYW1lID0gJyAnO1xyXG5cclxuXHRcdFx0cmVxdWVzdC5wb3N0KHNpZ251cFVSbClcclxuXHRcdFx0XHQuc2VuZChpbnZhbGlkRGF0YSlcclxuXHRcdFx0XHQuZW5kKChlcnIsIHJlcykgPT4ge1xyXG5cdFx0XHRcdFx0ZXhwZWN0KHJlcy5zdGF0dXMpLnRvLmVxdWFsKDQyMik7XHJcblx0XHRcdFx0XHRleHBlY3QocmVzLmJvZHkubWVzc2FnZSkudG8uZXF1YWwoJ1VzZXJuYW1lIGlzIHJlcXVpcmVkJyk7XHJcblx0XHRcdFx0XHRkb25lKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRpdCgncmV0dXJuIDQyMiBmb3IgYW4gZW1wdHkgZW1haWwgJywgKGRvbmUpID0+IHtcclxuXHRcdFx0Y29uc3QgaW52YWxpZERhdGEgPSBPYmplY3QuYXNzaWduKHt9LCBkYXRhKTtcclxuXHRcdFx0aW52YWxpZERhdGEuZW1haWwgPSAnICAnO1xyXG5cclxuXHRcdFx0cmVxdWVzdC5wb3N0KHNpZ251cFVSbClcclxuXHRcdFx0XHQuc2VuZChpbnZhbGlkRGF0YSlcclxuXHRcdFx0XHQuZW5kKChlcnIsIHJlcykgPT4ge1xyXG5cdFx0XHRcdFx0ZXhwZWN0KHJlcy5zdGF0dXMpLnRvLmVxdWFsKDQyMik7XHJcblx0XHRcdFx0XHRleHBlY3QocmVzLmJvZHkubWVzc2FnZSkudG8uZXF1YWwoJ0VtYWlsIGlzIHJlcXVpcmVkJyk7XHJcblx0XHRcdFx0XHRkb25lKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRpdCgncmV0dXJuIDQyMiBmb3IgYW4gZW1wdHkgcGFzc3dvcmQnLCAoZG9uZSkgPT4ge1xyXG5cdFx0XHRjb25zdCBpbnZhbGlkRGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIGRhdGEpO1xyXG5cdFx0XHRpbnZhbGlkRGF0YS5wYXNzd29yZCA9ICcgJztcclxuXHJcblx0XHRcdHJlcXVlc3QucG9zdChzaWdudXBVUmwpXHJcblx0XHRcdFx0LnNlbmQoaW52YWxpZERhdGEpXHJcblx0XHRcdFx0LmVuZCgoZXJyLCByZXMpID0+IHtcclxuXHRcdFx0XHRcdGV4cGVjdChyZXMuc3RhdHVzKS50by5lcXVhbCg0MjIpO1xyXG5cdFx0XHRcdFx0ZXhwZWN0KHJlcy5ib2R5Lm1lc3NhZ2UpLnRvLmVxdWFsKCdQYXNzd29yZCBpcyByZXF1aXJlZCcpO1xyXG5cdFx0XHRcdFx0ZG9uZSgpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0aXQoJ3JldHVybiA0MjIgZm9yIGFuIGludmFsaWQgZW1haWwnLCAoZG9uZSkgPT4ge1xyXG5cdFx0XHRjb25zdCBpbnZhbGlkRGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIGRhdGEpO1xyXG5cdFx0XHRpbnZhbGlkRGF0YS5lbWFpbCA9ICdpbnZhbGlkZW1haWwnO1xyXG5cclxuXHRcdFx0cmVxdWVzdC5wb3N0KHNpZ251cFVSbClcclxuXHRcdFx0XHQuc2VuZChpbnZhbGlkRGF0YSlcclxuXHRcdFx0XHQuZW5kKChlcnIsIHJlcykgPT4ge1xyXG5cdFx0XHRcdFx0ZXhwZWN0KHJlcy5zdGF0dXMpLnRvLmVxdWFsKDQyMik7XHJcblx0XHRcdFx0XHRleHBlY3QocmVzLmJvZHkubWVzc2FnZSkudG8uZXF1YWwoJ2ludmFsaWQgZW1haWwgYWRkcmVzcycpO1xyXG5cdFx0XHRcdFx0ZG9uZSgpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0aXQoJ3JldHVybiA0MjIgZm9yIGEgcGFzc3dvcmQgbGVzcyB0aGFuIDYgY2hhcmFjdGVycycsIChkb25lKSA9PiB7XHJcblx0XHRcdGNvbnN0IGludmFsaWREYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgZGF0YSk7XHJcblx0XHRcdGludmFsaWREYXRhLnBhc3N3b3JkID0gJ3Bhc3MnO1xyXG5cclxuXHRcdFx0cmVxdWVzdC5wb3N0KHNpZ251cFVSbClcclxuXHRcdFx0XHQuc2VuZChpbnZhbGlkRGF0YSlcclxuXHRcdFx0XHQuZW5kKChlcnIsIHJlcykgPT4ge1xyXG5cdFx0XHRcdFx0ZXhwZWN0KHJlcy5zdGF0dXMpLnRvLmVxdWFsKDQyMik7XHJcblx0XHRcdFx0XHRleHBlY3QocmVzLmJvZHkubWVzc2FnZSkudG8uZXF1YWwoJ1Bhc3N3b3JkIG11c3QgYmUgYXRsZWFzdCA2IGNoYXJhY3RlcnMgbG9uZyEnKTtcclxuXHRcdFx0XHRcdGRvbmUoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdFxyXG5cdH0pO1xyXG5cclxufSk7XHJcbiJdfQ==