'use strict';

module.exports = function (sequelize, DataTypes) {
	var Review = sequelize.define('Review', {
		body: {
			type: DataTypes.TEXT,
			allowNull: {
				args: true,
				msg: 'please enter a review'
			}
		}
	});

	Review.associate = function (models) {
		// Associate review with user
		Review.belongsTo(models.User, {
			foreignKey: 'userId',
			onDelete: 'CASCADE'
		});
		// Associate review with recipe
		Review.belongsTo(models.Recipe, {
			foreignKey: 'recipeId',
			onDelete: 'CASCADE'
		});
	};

	return Review;
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJldmlldy5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiUmV2aWV3IiwiZGVmaW5lIiwiYm9keSIsInR5cGUiLCJURVhUIiwiYWxsb3dOdWxsIiwiYXJncyIsIm1zZyIsImFzc29jaWF0ZSIsImJlbG9uZ3NUbyIsIm1vZGVscyIsIlVzZXIiLCJmb3JlaWduS2V5Iiwib25EZWxldGUiLCJSZWNpcGUiXSwibWFwcGluZ3MiOiI7O0FBQUFBLE9BQU9DLE9BQVAsR0FBaUIsVUFBU0MsU0FBVCxFQUFvQkMsU0FBcEIsRUFBK0I7QUFDL0MsS0FBTUMsU0FBU0YsVUFBVUcsTUFBVixDQUFpQixRQUFqQixFQUEyQjtBQUN6Q0MsUUFBTTtBQUNMQyxTQUFNSixVQUFVSyxJQURYO0FBRUxDLGNBQVc7QUFDVkMsVUFBTSxJQURJO0FBRVZDLFNBQUs7QUFGSztBQUZOO0FBRG1DLEVBQTNCLENBQWY7O0FBVUFQLFFBQU9RLFNBQVAsR0FBbUIsa0JBQVU7QUFDNUI7QUFDQVIsU0FBT1MsU0FBUCxDQUFpQkMsT0FBT0MsSUFBeEIsRUFBOEI7QUFDN0JDLGVBQVksUUFEaUI7QUFFN0JDLGFBQVU7QUFGbUIsR0FBOUI7QUFJQTtBQUNBYixTQUFPUyxTQUFQLENBQWlCQyxPQUFPSSxNQUF4QixFQUFnQztBQUMvQkYsZUFBWSxVQURtQjtBQUUvQkMsYUFBVTtBQUZxQixHQUFoQztBQUlBLEVBWEQ7O0FBYUEsUUFBT2IsTUFBUDtBQUNBLENBekJEIiwiZmlsZSI6InJldmlldy5qcyIsInNvdXJjZVJvb3QiOiJDOi9Vc2Vycy9Ub2JpL01vcmUtUmVjaXBlcy9zZXJ2ZXIvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihzZXF1ZWxpemUsIERhdGFUeXBlcykge1xyXG5cdGNvbnN0IFJldmlldyA9IHNlcXVlbGl6ZS5kZWZpbmUoJ1JldmlldycsIHtcclxuXHRcdGJvZHk6IHtcclxuXHRcdFx0dHlwZTogRGF0YVR5cGVzLlRFWFQsXHJcblx0XHRcdGFsbG93TnVsbDoge1xyXG5cdFx0XHRcdGFyZ3M6IHRydWUsXHJcblx0XHRcdFx0bXNnOiAncGxlYXNlIGVudGVyIGEgcmV2aWV3J1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSk7XHJcblx0XHJcblx0UmV2aWV3LmFzc29jaWF0ZSA9IG1vZGVscyA9PiB7XHJcblx0XHQvLyBBc3NvY2lhdGUgcmV2aWV3IHdpdGggdXNlclxyXG5cdFx0UmV2aWV3LmJlbG9uZ3NUbyhtb2RlbHMuVXNlciwge1xyXG5cdFx0XHRmb3JlaWduS2V5OiAndXNlcklkJyxcclxuXHRcdFx0b25EZWxldGU6ICdDQVNDQURFJyxcclxuXHRcdH0pO1xyXG5cdFx0Ly8gQXNzb2NpYXRlIHJldmlldyB3aXRoIHJlY2lwZVxyXG5cdFx0UmV2aWV3LmJlbG9uZ3NUbyhtb2RlbHMuUmVjaXBlLCB7XHJcblx0XHRcdGZvcmVpZ25LZXk6ICdyZWNpcGVJZCcsXHJcblx0XHRcdG9uRGVsZXRlOiAnQ0FTQ0FERSdcclxuXHRcdH0pO1xyXG5cdH07XHJcblxyXG5cdHJldHVybiBSZXZpZXc7XHJcbn07Il19